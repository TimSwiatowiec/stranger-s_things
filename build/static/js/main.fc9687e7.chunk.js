(this["webpackJsonpstrangers-things"]=this["webpackJsonpstrangers-things"]||[]).push([[0],{65:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){"use strict";s.r(t);var a=s(5),c=s(7),n=s.n(c),r=s(14),i=s(1),o=s(27),l=s.n(o),j=s(10),d=s(12),u="https://strangers-things.herokuapp.com/api/2022-ftb-et-web-pt",b="".concat(u,"/users/register"),h="".concat(u,"/users/login"),m="".concat(u,"/users/me"),O="".concat(u,"/posts"),p=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a,c,r,i,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.url,a=t.method,c=t.body,r=t.token,e.prev=1,i={method:a?a.toUpperCase():"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},r&&(i.headers.Authorization="Bearer ".concat(r)),e.next=6,fetch(s,i);case 6:return o=e.sent,e.next=9,o.json();case 9:return l=e.sent,e.abrupt("return",l);case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),x=(s(65),s.p+"static/media/home-icon.9f022e0f.png"),v=s(97),f=s(99),g=s(100),N=s(101),A=s(0),k=function(e){var t=e.setSubnavOpen,s=e.currentUser,a=e.setUserData,c=e.setUserToken;return Object(A.jsxs)("div",{className:"subnav",children:[Object(A.jsx)(v.a,{className:"close-button",size:"small",onClick:function(){return t(!1)},children:Object(A.jsx)(f.a,{color:"primary",size:"large",fontSize:"large"})}),Object(A.jsxs)("div",{className:"subnav-header",children:[s?Object(A.jsxs)("h2",{children:["Welcome, ",Object(A.jsx)("br",{})," ",Object(A.jsx)("span",{className:"username",children:s}),"!"]}):Object(A.jsxs)("div",{children:[Object(A.jsx)("h2",{children:"No User"}),Object(A.jsxs)("h5",{children:["Please Register",Object(A.jsx)("br",{})," or Sign In"]})]}),Object(A.jsx)("div",{className:"profile-circle",children:s?Object(A.jsx)("h3",{children:s.charAt(0)}):Object(A.jsx)(g.a,{})})]}),Object(A.jsxs)("ul",{children:[s?Object(A.jsx)("li",{children:Object(A.jsx)("button",{onClick:function(){return t(!1)},children:Object(A.jsx)(d.b,{to:"/account",children:"Account"})})}):"",Object(A.jsx)("li",{children:Object(A.jsx)("button",{onClick:function(){return t(!1)},children:Object(A.jsx)(d.b,{to:"/marketplace",children:"Marketplace"})})}),s?Object(A.jsx)("li",{children:Object(A.jsx)("button",{onClick:function(){return t(!1)},children:Object(A.jsx)(d.b,{to:"/logout",className:"logout",onClick:function(){localStorage.clear(),a({}),c("")},children:"Log Out"})})}):Object(A.jsx)("li",{children:Object(A.jsx)("button",{onClick:function(){return t(!1)},children:Object(A.jsx)(d.b,{to:"/",children:Object(A.jsxs)("span",{className:"username",children:["Sign In","/","Register"]})})})})]})]})},y=function(e){var t=e.userData,s=e.setUserData,c=e.setUserToken,n=Object(i.useState)(!1),r=Object(a.a)(n,2),o=r[0],l=r[1],j=t.username;return Object(A.jsxs)("header",{children:[Object(A.jsx)(d.b,{to:"/",className:"header-logo",children:Object(A.jsx)("img",{src:x,alt:"Stranger's Things"})}),Object(A.jsx)("nav",{className:"header-nav",children:Object(A.jsx)("ul",{children:Object(A.jsx)("li",{children:Object(A.jsx)("button",{className:"profile-button",onClick:function(e){e.preventDefault(),l(!o)},children:Object(A.jsx)(N.a,{fontSize:"large"})})})})}),o?Object(A.jsx)(k,{setSubnavOpen:l,currentUser:j,setUserData:s,setUserToken:c}):""]})},w=(s(72),s.p+"static/media/strangers-logo.4110761b.png"),S=s.p+"static/media/homepage-artwork-02.423150a1.png",C=s(102),E=s(55),D=s(116),I=s(117),T=s(114),J=s(103),B=s(104),P=function(e){var t=e.classes,s=e.setUserType;return Object(A.jsxs)("section",{className:"intro",children:[Object(A.jsx)("img",{src:w}),Object(A.jsx)("h1",{class:"things",children:"Stranger's Things!"}),Object(A.jsxs)("div",{className:"vertical-button-container",children:[Object(A.jsx)(C.a,{variant:"contained",className:t.largeButton,size:"large",color:"primary",startIcon:Object(A.jsx)(J.a,{}),onClick:function(){s("new")},children:"REGISTER"}),Object(A.jsx)(C.a,{type:"submit",variant:"outlined",className:t.largeButton,size:"large",color:"primary",startIcon:Object(A.jsx)(g.a,{}),onClick:function(){s("existing")},children:"SIGN IN"})]})]})},L=function(e){var t=e.classes,s=e.setUserType,c=e.setUserToken,o=Object(j.f)(),l=Object(i.useState)(""),d=Object(a.a)(l,2),u=d[0],b=d[1],m=Object(i.useState)(""),O=Object(a.a)(m,2),x=O[0],v=O[1],f=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p({url:h,method:"POST",body:{user:{username:u,password:x}}});case 3:a=e.sent,(r=a.data.token)&&(localStorage.setItem("userToken",r),b(""),v(""),s(""),c(r)),o.push("/welcome");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"login",children:[Object(A.jsx)(E.a,{variant:"h2",color:"primary",children:"Sign In"}),Object(A.jsxs)("form",{className:"login-form",onSubmit:f,children:[Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"username-input",children:"Username"}),Object(A.jsx)(T.a,{color:"primary",id:"username-input",value:u,onChange:function(e){b(e.target.value)},required:!0,labelWidth:80})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"password-input",children:"Password"}),Object(A.jsx)(T.a,{type:"password",color:"primary",id:"description-input",value:x,onChange:function(e){v(e.target.value)},required:!0,labelWidth:80})]}),Object(A.jsxs)("div",{className:"vertical-button-container",children:[Object(A.jsx)(C.a,{type:"submit",variant:"contained",className:t.mediumButton,size:"large",color:"primary",startIcon:Object(A.jsx)(g.a,{}),children:"SIGN IN"}),Object(A.jsx)(C.a,{variant:"outlined",className:t.mediumButton,size:"large",color:"primary",onClick:function(){s("")},children:"BACK"})]})]})]})},M=function(e){var t=e.classes,s=e.setUserType,c=e.setUserToken,o=Object(j.f)(),l=Object(i.useState)(""),d=Object(a.a)(l,2),u=d[0],h=d[1],m=Object(i.useState)(""),O=Object(a.a)(m,2),x=O[0],v=O[1],f=Object(i.useState)(""),g=Object(a.a)(f,2),N=g[0],k=g[1],y=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(x===N),x!==N){e.next=12;break}return e.next=5,p({url:b,method:"POST",body:{user:{username:u,password:x}}});case 5:a=e.sent,(r=a.data.token)&&(localStorage.setItem("userToken",r),h(""),v(""),k(""),s(""),c(r)),o.push("/welcome"),e.next=13;break;case 12:console.error("Passwords do not match!");case 13:case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"register",children:[Object(A.jsx)(E.a,{variant:"h2",color:"primary",children:"Register"}),Object(A.jsxs)("form",{className:"login-form",onSubmit:y,children:[Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"username-input",children:"Desired Username"}),Object(A.jsx)(T.a,{color:"primary",id:"username-input",value:u,onChange:function(e){h(e.target.value)},required:!0,labelWidth:140,inputProps:{minLength:3}})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"password-input",children:"Desired Password"}),Object(A.jsx)(T.a,{color:"primary",id:"password-input",type:"password",required:!0,labelWidth:140,value:x,onChange:function(e){v(e.target.value)},inputProps:{minLength:8}})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"confirm-password-input",children:"Confirm Password"}),Object(A.jsx)(T.a,{color:"primary",id:"confirm-password-input",type:"password",required:!0,labelWidth:140,value:N,onChange:function(e){k(e.target.value)},inputProps:{minLength:8}})]}),Object(A.jsxs)("div",{className:"vertical-button-container",children:[Object(A.jsx)(C.a,{type:"submit",variant:"contained",className:t.mediumButton,size:"large",color:"primary",startIcon:Object(A.jsx)(J.a,{}),children:"REGISTER"}),Object(A.jsx)(C.a,{variant:"outlined",className:t.mediumButton,size:"large",color:"primary",onClick:function(){s("")},children:"BACK"})]})]})]})},Q=function(e){var t=e.classes,s=e.setUserToken,a=e.userType,c=e.setUserType;return Object(A.jsxs)("main",{id:"home",children:[Object(A.jsx)("div",{className:"login-slide",children:""===a?Object(A.jsx)(P,{classes:t,setUserType:c}):"new"===a?Object(A.jsx)(M,{classes:t,setUserType:c,setUserToken:s}):Object(A.jsx)(L,{classes:t,setUserType:c,setUserToken:s})}),Object(A.jsxs)("div",{className:"artwork-container",children:[Object(A.jsx)("img",{src:S}),Object(A.jsx)("h1",{class:"place",children:"Marketplace!"}),Object(A.jsx)(d.b,{to:"/marketplace",children:Object(A.jsx)(C.a,{variant:"outlined",className:t.mediumButton,size:"large",color:"secondary",endIcon:Object(A.jsx)(B.a,{}),onClick:function(){c("")},children:"VISIT MARKETPLACE"})})]})]})},R=s(105),z=function(e){var t=e.classes,s=e.userType,a=e.userData;return Object(A.jsx)("main",{id:"login",children:Object(A.jsxs)("div",{className:"login-container",children:[Object(A.jsxs)("h1",{children:["Welcome ",Object(A.jsx)("span",{className:"username",children:a.username}),"!"]}),Object(A.jsx)("img",{src:S}),Object(A.jsxs)("h2",{children:["You have successfully ","new"===s?"registered.":"signed in."]}),Object(A.jsx)("h3",{children:"Let's explore!"}),Object(A.jsx)(d.b,{to:"/marketplace",children:Object(A.jsx)(C.a,{variant:"outlined",color:"primary",className:t.largeButton,endIcon:Object(A.jsx)(R.a,{}),children:"To the Marketplace"})})]})})},F=s.p+"static/media/logout-artwork.7da3eeb6.png",W=function(e){var t=e.classes;return Object(A.jsx)("main",{id:"logout",children:Object(A.jsxs)("div",{className:"logout-container",children:[Object(A.jsx)("img",{src:F}),Object(A.jsx)("h1",{children:"You have been successfully logged out."}),Object(A.jsx)("h3",{children:"See you next time!"}),Object(A.jsx)(d.b,{to:"/",children:Object(A.jsx)(C.a,{variant:"contained",color:"primary",className:t.largeButton,children:"Return Home"})})]})})},U=(s(73),s.p+"static/media/marketplace.923cba55.png"),H=s(106),G=s(107),K=s(115),Z=s(108),X=s(109),Y=function(e){var t=e.classes,s=e.userToken,c=e.setNewPostActive,o=Object(i.useState)(""),l=Object(a.a)(o,2),j=l[0],d=l[1],u=Object(i.useState)(""),b=Object(a.a)(u,2),h=b[0],m=b[1],x=Object(i.useState)(""),v=Object(a.a)(x,2),f=v[0],g=v[1],N=Object(i.useState)(""),k=Object(a.a)(N,2),y=k[0],w=k[1],S=Object(i.useState)(!1),E=Object(a.a)(S,2),J=E[0],B=E[1],P=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p({url:O,method:"POST",body:{post:{title:j,description:h,price:f,location:y,willDeliver:J}},token:s});case 3:return e.sent,c(!1),window.location.reload(),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("form",{className:"new-post-form",onSubmit:P,children:[Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,color:"primary",children:[Object(A.jsx)(I.a,{htmlFor:"title-input",children:"Title*"}),Object(A.jsx)(T.a,{color:"primary",id:"title-input",value:j,onChange:function(e){d(e.target.value)},required:!0,startAdornment:Object(A.jsx)(H.a,{position:"start"}),labelWidth:36})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"description-input",children:"Description*"}),Object(A.jsx)(T.a,{color:"primary",id:"description-input",value:h,onChange:function(e){m(e.target.value)},required:!0,multiline:!0,rows:6,startAdornment:Object(A.jsx)(H.a,{position:"start"}),labelWidth:86})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"price-input",children:"Price*"}),Object(A.jsx)(T.a,{color:"primary",id:"price-input",value:f,onChange:function(e){g(e.target.value)},required:!0,startAdornment:Object(A.jsx)(H.a,{position:"start",children:"$"}),labelWidth:42})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,color:"primary",children:[Object(A.jsx)(I.a,{htmlFor:"location-input",children:"Location"}),Object(A.jsx)(T.a,{color:"primary",id:"location-input",value:y,onChange:function(e){w(e.target.value)},startAdornment:Object(A.jsx)(H.a,{position:"start"}),labelWidth:62})]}),Object(A.jsx)(G.a,{className:t.formInput,label:"I will deliver this item.",labelPlacement:"start",control:Object(A.jsx)(K.a,{color:"primary",checked:J,onChange:function(e){B(e.target.checked)},inputProps:{"aria-label":'"Will Deliver" Checkbox'}})}),Object(A.jsx)(C.a,{type:"submit",variant:"contained",className:t.mediumButton,size:"large",color:"primary",children:"POST"})]})},q=function(e){var t=e.history,s=e.getPostDate,a=e.postsToDisplay;return Object(A.jsx)(A.Fragment,{children:a.map((function(e){return Object(A.jsxs)("div",{className:"post",onClick:function(){t.push("/marketplace/".concat(e._id))},children:[Object(A.jsxs)("div",{className:"post-header",children:[Object(A.jsxs)("div",{className:"post-title-container",children:[Object(A.jsx)("h1",{children:e.title}),Object(A.jsx)("h2",{children:e.price})]}),Object(A.jsx)("h3",{children:e.author.username})]}),Object(A.jsxs)("div",{className:"post-content",children:[Object(A.jsx)("p",{children:e.description}),Object(A.jsx)("div",{className:"post-arrow-container",children:Object(A.jsx)(R.a,{color:"primary",size:"large"})})]}),Object(A.jsx)("div",{className:"post-time",children:Object(A.jsxs)("p",{children:["Posted: ",s(e)]})})]},e._id)}))})},V=function(e){var t=e.classes,s=e.userToken,c=e.posts,n=e.getPostDate,r=Object(j.f)(),o=Object(i.useState)(!1),l=Object(a.a)(o,2),d=l[0],u=l[1],b=Object(i.useState)(""),h=Object(a.a)(b,2),m=h[0],O=h[1],p=c.filter((function(e){return function(e,t){return!!(e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())||e.price.toLowerCase().includes(t.toLowerCase())||e.location.toLowerCase().includes(t.toLowerCase())||e.author.username.toLowerCase().includes(t.toLowerCase()))||!!("deliver"===t.toLowerCase()&&e.willDeliver||"delive"===t.toLowerCase()&&e.willDeliver||"deliv"===t.toLowerCase()&&e.willDeliver||"deli"===t.toLowerCase()&&e.willDeliver||"del"===t.toLowerCase()&&e.willDeliver||"de"===t.toLowerCase()&&e.willDeliver||"d"===t.toLowerCase()&&e.willDeliver)}(e,m)})),x=m.length?p:c;return Object(A.jsxs)("main",{id:"marketplace",children:[Object(A.jsxs)("section",{className:"marketplace-container",children:[Object(A.jsxs)("div",{className:"marketplace-header-container",children:[Object(A.jsx)("h1",{children:Object(A.jsx)("img",{className:"marketplace-header",src:U,alt:"Stranger's Things Marketplace"})}),Object(A.jsx)(C.a,{variant:"contained",disabled:!s,className:t.mediumButton,size:"large",color:"primary",endIcon:Object(A.jsx)(Z.a,{}),onClick:function(){u(!0)},children:"New Post"})]}),Object(A.jsx)("div",{className:"search",children:Object(A.jsx)(D.a,{fullWidth:!0,variant:"outlined",className:t.searchBar,children:Object(A.jsx)(T.a,{color:"primary",id:"searchbar",size:"small",placeholder:"Search posts...",className:t.searchBar,value:m,onChange:function(e){O(e.target.value)},startAdornment:Object(A.jsx)(X.a,{color:"primary",className:"searchIcon"})})})}),Object(A.jsxs)("div",{className:"post-board",children:[Object(A.jsxs)("div",{className:"matches",children:["Matches: ",Object(A.jsx)("span",{className:"orange",children:x.length})]}),Object(A.jsx)(q,{history:r,getPostDate:n,postsToDisplay:x})]})]}),d?Object(A.jsxs)("section",{className:"new-post",children:[Object(A.jsxs)("div",{className:"new-post-header",children:[Object(A.jsxs)(E.a,{variant:"h3",children:[Object(A.jsx)("span",{className:"orange",children:"new"})," post"]}),Object(A.jsx)(v.a,{size:"large",onClick:function(){return u(!1)},children:Object(A.jsx)(f.a,{color:"primary",size:"large",fontSize:"large"})})]}),Object(A.jsx)(Y,{classes:t,userToken:s,setNewPostActive:u})]}):""]})},_=(s(74),s(110)),$=s(111),ee=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a,c,r,i,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.postId,a=t.newTitle,c=t.newDescription,r=t.newPrice,i=t.newLocation,o=t.newWillDeliver,l=t.token,e.next=3,p({url:"".concat(O,"/").concat(s),method:"PATCH",body:{post:{title:a,description:c,price:r,location:i,willDeliver:o}},token:l});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.postId,a=t.token,e.next=3,p({url:"".concat(O,"/").concat(s),method:"DELETE",token:a});case 3:return e.sent,window.location.reload(),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.postId,a=t.messageContent,c=t.token,e.next=3,p({url:"".concat(O,"/").concat(s,"/messages"),method:"POST",body:{message:{content:a}},token:c});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=e.classes,s=e.userToken,c=e.post,o=e.setEditorOpen,l=Object(i.useState)(c.title),j=Object(a.a)(l,2),d=j[0],u=j[1],b=Object(i.useState)(c.description),h=Object(a.a)(b,2),m=h[0],O=h[1],p=Object(i.useState)(c.price),x=Object(a.a)(p,2),g=x[0],N=x[1],k=Object(i.useState)(c.location),y=Object(a.a)(k,2),w=y[0],S=y[1],E=Object(i.useState)(c.willDeliver),J=Object(a.a)(E,2),B=J[0],P=J[1],L=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ee({postId:c._id,newTitle:d,newDescription:m,newPrice:g,newLocation:w,newWillDeliver:B,token:s});case 3:return e.sent,o(!1),window.location.reload(),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("section",{className:"post-editor",children:[Object(A.jsxs)("div",{className:"editor-header",children:[Object(A.jsx)("h1",{children:"EDIT POST"}),Object(A.jsx)(v.a,{size:"small",onClick:function(){return o(!1)},children:Object(A.jsx)(f.a,{color:"primary",size:"large",fontSize:"large"})})]}),Object(A.jsxs)("form",{className:"post-editor-form",onSubmit:L,children:[Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,color:"primary",children:[Object(A.jsx)(I.a,{htmlFor:"title-input",children:"Title*"}),Object(A.jsx)(T.a,{color:"primary",id:"title-input",value:d,onChange:function(e){u(e.target.value)},required:!0,startAdornment:Object(A.jsx)(H.a,{position:"start"}),labelWidth:36})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"description-input",children:"Description*"}),Object(A.jsx)(T.a,{color:"primary",id:"description-input",value:m,onChange:function(e){O(e.target.value)},required:!0,multiline:!0,rows:6,startAdornment:Object(A.jsx)(H.a,{position:"start"}),labelWidth:86})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"price-input",children:"Price*"}),Object(A.jsx)(T.a,{color:"primary",id:"price-input",value:g,onChange:function(e){N(e.target.value)},required:!0,startAdornment:Object(A.jsx)(H.a,{position:"start",children:"$"}),labelWidth:42})]}),Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,color:"primary",children:[Object(A.jsx)(I.a,{htmlFor:"location-input",children:"Location"}),Object(A.jsx)(T.a,{color:"primary",id:"location-input",value:w,onChange:function(e){S(e.target.value)},startAdornment:Object(A.jsx)(H.a,{position:"start"}),labelWidth:62})]}),Object(A.jsx)(G.a,{className:t.formInput,label:"I will deliver this item.",labelPlacement:"start",control:Object(A.jsx)(K.a,{color:"primary",checked:B,onChange:function(e){P(e.target.checked)},inputProps:{"aria-label":'"Will Deliver" Checkbox'}})}),Object(A.jsx)(C.a,{variant:"outlined",className:t.mediumButton,size:"large",color:"primary",onClick:function(){o(!1)},children:"Cancel"}),Object(A.jsx)(C.a,{type:"submit",variant:"contained",className:t.mediumButton,size:"large",color:"primary",children:"Save"})]})]})},ce=function(e){var t=e.classes,s=e.post,c=e.setSendMessageOpen,n=e.userToken,r=e.setMessageSent,o=Object(i.useState)(""),l=Object(a.a)(o,2),j=l[0],d=l[1],u=Object(i.useState)(!1),b=Object(a.a)(u,2),h=b[0],m=b[1];return Object(A.jsxs)("div",{className:"new-message-form",children:[Object(A.jsxs)("h3",{children:["Interested? Leave ",Object(A.jsx)("span",{className:"username",children:s.author.username})," a message!"]}),Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0)},children:[Object(A.jsxs)(D.a,{fullWidth:!0,variant:"outlined",className:t.formInput,children:[Object(A.jsx)(I.a,{htmlFor:"new-message-input",children:"Message"}),Object(A.jsx)(T.a,{color:"primary",id:"new-message-input",value:j,onChange:function(e){d(e.target.value)},multiline:!0,rows:6,labelWidth:86,required:!0,inputProps:{minLength:3}})]}),Object(A.jsxs)("div",{className:"buttons-section",children:[Object(A.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){c(!1)},children:"Cancel"}),Object(A.jsx)(C.a,{variant:"contained",color:"primary",type:"submit",children:"Send Message"})]})]}),h?Object(A.jsx)(re,{newMessage:j,setNewMessage:d,setMessageConfirmationOpen:m,setSendMessageOpen:c,post:s,userToken:n,setMessageSent:r}):""]})},ne=function(e){var t=e.myMessages;return Object(A.jsx)("div",{className:"my-messages-container",children:Object(A.jsx)("div",{className:"my-message-list",children:t.map((function(e){return Object(A.jsxs)("div",{className:"message",children:[Object(A.jsx)("div",{className:"message-header",children:Object(A.jsxs)("h3",{children:["From: ",Object(A.jsx)("span",{className:"username",children:e.fromUser.username})]})}),Object(A.jsx)("div",{className:"message-content",children:Object(A.jsx)("p",{children:e.content})})]},e._id)}))})})},re=function(e){var t=e.newMessage,s=e.setNewMessage,a=e.setMessageConfirmationOpen,c=e.setSendMessageOpen,i=e.post,o=e.userToken,l=e.setMessageSent,j=function(){var e=Object(r.a)(n.a.mark((function e(r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),se({postId:i._id,messageContent:t,token:o}),a(!1),c(!1),l(!0),s("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)("div",{className:"confirmation-window",children:Object(A.jsxs)("form",{onSubmit:j,children:[Object(A.jsxs)("h3",{children:["Send this message to ",Object(A.jsx)("span",{className:"username",children:i.author.username}),"?"]}),Object(A.jsx)("p",{className:"data",children:t}),Object(A.jsxs)("div",{className:"confirmation-buttons",children:[Object(A.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){a(!1)},children:"Cancel"}),Object(A.jsx)(C.a,{variant:"contained",color:"primary",type:"submit",children:"Send"})]})]})})},ie=function(e){var t=e.setDeleteConfirmationOpen,s=e.post,a=e.userToken;return Object(A.jsxs)("div",{className:"confirmation-window delete",children:[Object(A.jsx)("h3",{children:"Delete this post?"}),Object(A.jsxs)("div",{className:"confirmation-buttons",children:[Object(A.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){t(!1)},children:"Cancel"}),Object(A.jsx)(d.b,{to:"/marketplace",children:Object(A.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){console.log("Delete Post"),te({postId:s._id,token:a}),t(!1)},children:"Delete"})})]})]})},oe=function(e){var t=e.classes,s=e.posts,c=e.userData,n=e.userToken,r=e.getPostDate,o=Object(j.f)(),l=Object(j.g)().postId,u=s.find((function(e){return l===e._id})),b=Object(i.useState)(!1),h=Object(a.a)(b,2),m=h[0],O=h[1],p=Object(i.useState)(!1),x=Object(a.a)(p,2),v=x[0],f=x[1],g=Object(i.useState)(!1),N=Object(a.a)(g,2),k=N[0],y=N[1],w=Object(i.useState)(!1),S=Object(a.a)(w,2),E=S[0],D=S[1],I=Object(i.useState)(!1),T=Object(a.a)(I,2),J=T[0],B=T[1],P=Object(i.useState)(!1),L=Object(a.a)(P,2),M=L[0],Q=L[1];if(Object(i.useEffect)((function(){J&&Q(!0)}),[J]),!u)return Object(A.jsx)("main",{id:"post-view",children:"Loading..."});var R=[];return c.posts&&c._id===u.author._id&&(R=c.posts.filter((function(e){return e._id===u._id}))[0].messages),Object(A.jsxs)("main",{id:"post-view",children:[Object(A.jsx)("div",{className:"back",children:Object(A.jsx)(C.a,{variant:"outlined",color:"primary",startIcon:Object(A.jsx)(_.a,{}),onClick:function(){o.push("/marketplace")},children:"Return to Marketplace"})}),Object(A.jsxs)("div",{className:"single-post",children:[Object(A.jsxs)("div",{className:"single-post-header",children:[Object(A.jsx)("h1",{children:u.title}),Object(A.jsx)("h3",{children:u.author.username})]}),Object(A.jsx)("div",{className:"post-time",children:Object(A.jsxs)("p",{children:["Posted: ",r(u)]})}),Object(A.jsx)("div",{className:"single-post-body",children:Object(A.jsxs)("div",{className:"single-post-content",children:[Object(A.jsxs)("div",{className:"data-pair",children:[Object(A.jsx)("h4",{className:"data-type",children:"Description"}),Object(A.jsx)("span",{className:"data",children:u.description})]}),Object(A.jsxs)("div",{className:"data-pair",children:[Object(A.jsx)("h4",{className:"data-type",children:"Price"}),Object(A.jsx)("span",{className:"data",children:u.price})]}),Object(A.jsxs)("div",{className:"data-pair",children:[Object(A.jsx)("h4",{className:"data-type",children:"Location"}),Object(A.jsx)("span",{className:"data",children:"[On Request]"!==u.location?u.location:"(Unprovided)"})]}),Object(A.jsxs)("div",{className:"data-pair",children:[Object(A.jsx)("h4",{className:"data-type",children:"Delivery Included?"}),Object(A.jsx)("span",{className:"data",children:u.willDeliver?"Yes":"No"})]})]})}),Object(A.jsx)("div",{className:"actions-section",children:c._id===u.author._id?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){y(!0)},children:"Edit Post"}),Object(A.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){f(!0)},children:"Delete Post"})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(C.a,{variant:"contained",color:"primary",disabled:!c._id||!!m,onClick:function(){B(!1),Q(!1),O(!0)},children:"Message"})})}),c._id?"":Object(A.jsxs)("span",{className:"unauthorized-disclaimer",children:["Please ",Object(A.jsx)(d.b,{to:"/",className:"orange",children:"log in or register"})," to send messages."]}),M?Object(A.jsx)("span",{className:"message-sent-disclaimer",children:"Message sent!"}):"",Object(A.jsxs)("div",{className:"messages-section",children:[m?Object(A.jsx)("div",{className:"message-section",children:Object(A.jsx)(ce,{classes:t,post:u,setSendMessageOpen:O,userToken:n,setMessageSent:B})}):"",c._id===u.author._id?Object(A.jsx)("div",{className:"post-view-messages",children:Object(A.jsx)(C.a,{color:"primary",endIcon:Object(A.jsx)($.a,{}),onClick:function(){D(!E)},children:"Messages (".concat(R.length,")")})}):"",E?Object(A.jsx)(ne,{myMessages:R}):""]}),Object(A.jsxs)(A.Fragment,{children:[v?Object(A.jsx)(ie,{setDeleteConfirmationOpen:f,post:u,userToken:n}):"",k?Object(A.jsx)(ae,{classes:t,userToken:n,post:u,setEditorOpen:y}):""]})]})]})},le=(s(75),s.p+"static/media/account-center.bbc2576e.png"),je="data:image/png;base64,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",de=function(e){var t=e.myPosts,s=e.getPostDate,c=Object(j.f)(),n=Object(i.useState)("active"),r=Object(a.a)(n,2),o=r[0],l=r[1],d=t.filter((function(e){return e.active})),u=t.filter((function(e){return!e.active}));return Object(A.jsxs)("section",{className:"user-posts",children:[Object(A.jsx)("div",{className:"section-header",children:Object(A.jsx)("h1",{children:"Posts"})}),Object(A.jsxs)("div",{className:"messageboard-tabs",children:[Object(A.jsx)("button",{className:"messageboard-tab ".concat("active"===o?"tab-active":""),onClick:function(){l("active")},children:"ACTIVE"}),Object(A.jsx)("button",{className:"messageboard-tab ".concat("expired"===o?"tab-active":""),onClick:function(){l("expired")},children:"EXPIRED"})]}),Object(A.jsx)("div",{className:"post-list",children:"active"===o&&d.length<1||"expired"===o&&u.length<1?Object(A.jsxs)("div",{className:"empty-list",children:[Object(A.jsx)("img",{src:je}),"No posts to display."]}):"active"===o&&d.length>=1?d.map((function(e){return Object(A.jsxs)("div",{className:"post",onClick:function(){c.push("/marketplace/".concat(e._id))},children:[Object(A.jsx)("div",{className:"post-header",children:Object(A.jsxs)("div",{className:"post-title-container",children:[Object(A.jsx)("h2",{children:e.title}),Object(A.jsx)("h2",{children:e.price})]})}),Object(A.jsxs)("div",{className:"post-content",children:[Object(A.jsx)("p",{children:e.description}),Object(A.jsx)("div",{className:"post-arrow-container",children:Object(A.jsx)(R.a,{color:"primary",size:"large"})})]}),Object(A.jsx)("div",{className:"post-time",children:Object(A.jsxs)("p",{children:["Posted: ",s(e)]})})]},e._id)})):"expired"===o&&u.length>=1?u.map((function(e){return Object(A.jsxs)("div",{className:"post expired-post",children:[Object(A.jsx)("div",{className:"post-header",children:Object(A.jsxs)("div",{className:"post-title-container",children:[Object(A.jsx)("h2",{children:e.title}),Object(A.jsx)("h2",{children:e.price})]})}),Object(A.jsx)("div",{className:"post-content",children:Object(A.jsx)("p",{children:e.description})}),Object(A.jsx)("div",{className:"post-time",children:Object(A.jsxs)("p",{children:["Posted: ",s(e)]})})]},e._id)})):""})]})},ue=function(e){var t=e.messages,s=e.userData,c=e.posts,n=Object(j.f)(),r=Object(i.useState)("inbox"),o=Object(a.a)(r,2),l=o[0],d=o[1],u=t.filter((function(e){return e.fromUser._id!==s._id})),b=t.filter((function(e){return e.fromUser._id===s._id})),h=function(e){var t=c.find((function(t){return t._id===e.post._id}));return t?t.author.username:"Unknown"};return Object(A.jsxs)("section",{className:"user-messages",children:[Object(A.jsx)("div",{className:"section-header",children:Object(A.jsx)("h1",{children:"Messageboard"})}),Object(A.jsxs)("div",{className:"messageboard-tabs",children:[Object(A.jsx)("button",{className:"messageboard-tab ".concat("inbox"===l?"tab-active":""),onClick:function(){d("inbox")},children:"INBOX"}),Object(A.jsx)("button",{className:"messageboard-tab ".concat("sent"===l?"tab-active":""),onClick:function(){d("sent")},children:"SENT"})]}),Object(A.jsx)("div",{className:"message-list",children:"inbox"===l&&u.length<1||"sent"===l&&b.length<1?Object(A.jsxs)("div",{className:"empty-list",children:[Object(A.jsx)("img",{src:je}),"No messages to display."]}):"inbox"===l&&u.length>=1?u.map((function(e){return Object(A.jsxs)("div",{className:"message",children:[Object(A.jsx)("div",{className:"message-header",children:Object(A.jsxs)("h3",{children:["From: ",Object(A.jsx)("span",{className:"username",children:e.fromUser.username})]})}),Object(A.jsxs)("div",{className:"message-content",children:[Object(A.jsx)("p",{children:e.content}),Object(A.jsx)("div",{className:"respond-button-container",children:Object(A.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){n.push("/marketplace/".concat(e.post._id))},children:"View Post"})})]})]},e._id)})):"sent"===l&&b.length>=1?b.map((function(e){return Object(A.jsxs)("div",{className:"message",children:[Object(A.jsx)("div",{className:"message-header",children:Object(A.jsxs)("h3",{children:["To: ",Object(A.jsx)("span",{className:"username",children:h(e)})]})}),Object(A.jsxs)("div",{className:"message-content",children:[Object(A.jsx)("p",{children:e.content}),Object(A.jsx)("div",{className:"respond-button-container",children:Object(A.jsx)(C.a,{variant:"contained",color:"primary",disabled:!c.find((function(t){return t._id===e.post._id})),onClick:function(){n.push("/marketplace/".concat(e.post._id))},children:"View Post"})})]})]},e._id)})):""})]})},be=function(e){var t=e.userData,s=e.getPostDate,c=e.posts,n=t.messages,r=t.posts,o=t.username,l=Object(i.useState)("posts"),j=Object(a.a)(l,2),d=j[0],u=j[1];return r&&n?Object(A.jsx)("main",{id:"account",children:Object(A.jsxs)("section",{className:"account-container",children:[Object(A.jsx)("div",{className:"account-header-container",children:Object(A.jsx)("h1",{children:Object(A.jsx)("img",{className:"account-header",src:le})})}),Object(A.jsxs)("div",{className:"account-body",children:[Object(A.jsx)("div",{className:"welcome-user",children:Object(A.jsxs)("h1",{class:"welcome",children:["Welcome, ",Object(A.jsx)("span",{className:"username",children:o}),"!"]})}),Object(A.jsxs)("div",{className:"account-nav-buttons",children:[Object(A.jsx)("button",{className:"account-center-nav ".concat("posts"===d?"nav-tab-active":""),onClick:function(){u("posts")},children:"POSTS"}),Object(A.jsx)("button",{className:"account-center-nav ".concat("messages"===d?"nav-tab-active":""),onClick:function(){u("messages")},children:"MESSAGES"})]}),"posts"===d?Object(A.jsx)(de,{myPosts:r,getPostDate:s}):Object(A.jsx)(ue,{messages:n,userData:t,posts:c})]})]})}):Object(A.jsx)("main",{id:"account",children:"Loading..."})},he=s(112),me=s(53),Oe=s(113),pe=s(42),xe=s(41),ve=Object(he.a)((function(e){return{formInput:{marginTop:12,marginBottom:12},largeButton:{paddingLeft:40,paddingRight:40,paddingTop:20,paddingBottom:20,marginTop:8,marginBottom:8},mediumButton:{paddingLeft:40,paddingRight:40,paddingTop:15,paddingBottom:15,marginTop:8,marginBottom:8},searchBar:{borderRadius:100,fontSize:20},searchIcon:{padding:50}}})),fe=Object(me.a)({palette:{primary:{main:pe.a[800]},secondary:{main:xe.a[50]}}}),ge=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({url:m,token:t});case 2:return s=e.sent,a=s.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({url:O});case 3:return t=e.sent,e.abrupt("return",t.data.posts);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(e){var t=e.createdAt.charAt(0)+e.createdAt.charAt(1)+e.createdAt.charAt(2)+e.createdAt.charAt(3),s=e.createdAt.charAt(5)+e.createdAt.charAt(6),a=e.createdAt.charAt(8)+e.createdAt.charAt(9),c=e.createdAt.charAt(14)+e.createdAt.charAt(15);return"".concat(function(){var t=e.createdAt.charAt(11)+e.createdAt.charAt(12);return 0===e.createdAt.charAt(11)?t=e.createdAt.charAt(12):t>12&&(t-=12),t}(),":").concat(c).concat(Number(e.createdAt.charAt(11)+e.createdAt.charAt(12))>12?"PM":"AM"," GMT ").concat(s,"/").concat(a,"/").concat(t)},ke=function(){var e=ve(),t=Object(i.useState)(""),s=Object(a.a)(t,2),c=s[0],o=s[1],l=Object(i.useState)(""),d=Object(a.a)(l,2),u=d[0],b=d[1],h=Object(i.useState)({}),m=Object(a.a)(h,2),O=m[0],p=m[1],x=Object(i.useState)([]),v=Object(a.a)(x,2),f=v[0],g=v[1];return Object(i.useEffect)(Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:(t=e.sent)&&g(t);case 5:case"end":return e.stop()}}),e)}))),[]),Object(i.useEffect)(Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return b(localStorage.getItem("userToken")),e.abrupt("return");case 3:return e.next=6,ge(u);case 6:(t=e.sent)&&t.username&&p(t);case 9:case"end":return e.stop()}}),e)}))),[u]),Object(A.jsx)("div",{id:"app",children:Object(A.jsxs)(Oe.a,{theme:fe,children:[Object(A.jsx)(y,{userData:O,setUserData:p,setUserToken:b}),Object(A.jsxs)(j.c,{children:[Object(A.jsx)(j.a,{exact:!0,path:"/",children:Object(A.jsx)(Q,{classes:e,setUserToken:b,userType:c,setUserType:o})}),Object(A.jsx)(j.a,{exact:!0,path:"/marketplace",children:Object(A.jsx)(V,{classes:e,userToken:u,posts:f,getPostDate:Ae})}),Object(A.jsx)(j.a,{path:"/marketplace/:postId",children:Object(A.jsx)(oe,{classes:e,posts:f,userData:O,userToken:u,getPostDate:Ae})}),Object(A.jsx)(j.a,{path:"/account",children:Object(A.jsx)(be,{userData:O,getPostDate:Ae,posts:f})}),Object(A.jsx)(j.a,{path:"/logout",children:Object(A.jsx)(W,{classes:e})}),Object(A.jsx)(j.a,{path:"/welcome",children:Object(A.jsx)(z,{classes:e,userType:c,userData:O})})]})]})})};l.a.render(Object(A.jsx)(d.a,{children:Object(A.jsx)(ke,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.fc9687e7.chunk.js.map